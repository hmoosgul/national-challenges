<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ğŸ‰ ØªØ­Ø¯ÙŠØ§Øª ÙˆØ·Ù†ÙŠØ© ğŸ‰</title>
<style>
  :root{
    --green:#0a7a33;
    --green-dark:#064e22;
    --green-soft:#e9f7ec;
    --glass-bg:rgba(255,255,255,0.6);
  }
  *{box-sizing:border-box}
  body{
    font-family:"Tahoma", Arial, sans-serif;
    margin:0; direction:rtl; text-align:center;
    background: radial-gradient(60% 60% at 50% 30%, #f2fff3 0%, #e6f9e6 40%, #f0fff0 100%);
    color:var(--green-dark);
  }
  h1{
    margin:20px 10px;
    color:var(--green-dark);
    font-size:42px;
    letter-spacing:0.5px;
    text-shadow:0 2px 6px rgba(0,0,0,0.08);
  }

  .glass{
    width:min(900px,92%);
    margin:18px auto;
    background:var(--glass-bg);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border:1px solid rgba(10,122,51,0.15);
    border-radius:14px;
    padding:18px 16px;
    box-shadow: 0 10px 26px rgba(0,0,0,0.08);
  }

  button{
    padding:12px 20px; margin:10px 8px;
    border-radius:10px; border:2px solid var(--green);
    background:rgba(255,255,255,0.85);
    color:var(--green-dark); font-weight:700; font-size:18px;
    cursor:pointer; transition:transform .08s ease, box-shadow .2s ease, background .2s;
  }
  button:hover{ transform:translateY(-1px); background:rgba(10,122,51,0.08) }
  button:active{ transform:translateY(0px) }

  #scores{
    display:none; gap:12px; align-items:center; justify-content:center; flex-wrap:wrap;
    width:min(1000px,95%); margin-inline:auto;
  }
  .pill{
    display:none; width:130px; height:130px; border-radius:50%;
    background:linear-gradient(145deg, rgba(255,255,255,0.9), rgba(255,255,255,0.6));
    border:3px solid var(--green);
    color:var(--green-dark);
    font-weight:800; line-height:1.45;
    box-shadow: inset 0 4px 18px rgba(10,122,51,0.12), 0 6px 20px rgba(0,0,0,0.06);
    padding:10px;
  }
  #team1{ border-color:#0b5cff; background:linear-gradient(145deg, rgba(255,255,255,0.9), rgba(215,230,255,0.7)); }
  #team2{ border-color:#0fbf3d; background:linear-gradient(145deg, rgba(255,255,255,0.9), rgba(214,245,219,0.7)); }
  #player{ border-color:#0fbf3d }

  #timerBubble{
    width:80px;height:80px;border-radius:50%;
    border:3px solid var(--green);
    display:flex; align-items:center; justify-content:center;
    font-weight:900; font-size:22px; color:var(--green-dark);
    background: radial-gradient(circle at 30% 30%, #fff, rgba(255,255,255,0.7));
    box-shadow: 0 6px 16px rgba(0,0,0,0.08);
    position:relative;
  }
  #timerBubble::after{
    content:"â±ï¸";
    position:absolute; top:-12px; right:-8px; font-size:20px; opacity:.9;
  }

  #board{
    display:none;
    width:min(1000px,95%); margin:16px auto;
    display:grid; grid-template-columns:repeat(10,1fr); gap:10px;
  }
  .cell{
    padding:14px 10px; font-weight:800; font-size:18px;
    background:#bfe6c9; color:#0b3b1f;
    border:2px solid #0f7a39; border-radius:10px;
    cursor:pointer; transition: all .15s ease;
  }
  .cell:hover{ transform:translateY(-1px); box-shadow:0 6px 16px rgba(0,0,0,0.06) }
  .cell.used{ visibility:hidden }

  #questionPage{ display:none; }
  #questionCard{
    margin:12px auto; width:min(900px,92%);
    text-align: start;
    border:2px solid var(--green); border-radius:14px;
    background:linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,255,255,0.75));
    padding:18px;
    box-shadow:0 8px 24px rgba(0,0,0,0.06);
  }
  #questionText{ font-size:22px; margin-bottom:10px; color:#06361b; }

  .option{
    display:block; width:100%;
    text-align: start;
    margin:10px 0; padding:12px 14px; border-radius:10px;
    border:2px solid var(--green); color:var(--green-dark);
    background:rgba(255,255,255,0.8); font-size:18px; font-weight:700; cursor:pointer;
    transition:background .15s, transform .05s;
  }
  .option:hover{ background:rgba(10,122,51,0.08) }
  .option:active{ transform:scale(0.995) }

  #flash{
    position:fixed; inset:0; background:red; opacity:0; pointer-events:none; z-index:9999;
    transition:opacity .25s ease;
  }

  #endGameBtn{
    background:#ff9900; color:#fff; border-color:#ff9900;
  }

  footer{
    margin:18px auto 26px; width:min(900px,92%);
    background:rgba(10,122,51,0.06);
    border:1px solid rgba(10,122,51,0.15);
    border-radius:10px; padding:10px; font-size:14px; color:#0a4d29;
  }

  /* Ø´Ø±ÙŠØ· Ø£Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ù„Ù„Ù…Ø¤Ù‚Øª ÙˆØ§Ù„Ø¯ÙˆØ± */
  #topBar{
    width:min(900px,92%); margin:8px auto 0;
    display:flex; align-items:center; justify-content:space-between; gap:10px;
  }
  .turnTag{
    padding:8px 12px; border-radius:999px; font-weight:800; font-size:14px;
    border:2px solid var(--green); background:rgba(255,255,255,0.8); color:var(--green-dark);
  }
</style>
</head>
<body>

<h1>ğŸ‰ ØªØ­Ø¯ÙŠØ§Øª ÙˆØ·Ù†ÙŠØ© ğŸ‰</h1>

<!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø¡ -->
<div id="startScreen" class="glass">
  <h2 style="margin-top:0">Ø§Ø®ØªØ± ÙˆØ¶Ø¹ Ø§Ù„Ù„Ø¹Ø¨Ø©</h2>
  <div>
    <button onclick="showSingleForm()">Ù„Ø¹Ø¨ ÙØ±Ø¯ÙŠ</button>
    <button onclick="showTeamForm()">Ù„Ø¹Ø¨ ÙØ±ÙŠÙ‚ÙŠÙ†</button>
  </div>

  <div id="singleForm" style="display:none; margin-top:10px">
    <input id="playerName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨" style="padding:10px;border-radius:8px;border:1px solid #9ac9a9;width:min(360px,90%)" />
    <br/>
    <button onclick="startPlayer()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨</button>
  </div>

  <div id="teamForm" style="display:none; margin-top:10px">
    <input id="name1" placeholder="Ø§Ø³Ù… Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£ÙˆÙ„ (Ø£Ø²Ø±Ù‚)" style="padding:10px;border-radius:8px;border:1px solid #9ac9a9;width:min(360px,90%);margin:6px" />
    <input id="name2" placeholder="Ø§Ø³Ù… Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø«Ø§Ù†ÙŠ (Ø£Ø®Ø¶Ø±)" style="padding:10px;border-radius:8px;border:1px solid #9ac9a9;width:min(360px,90%);margin:6px" />
    <br/>
    <button onclick="startTeams()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨</button>
  </div>
</div>

<!-- Ø´Ø±ÙŠØ· Ø§Ù„Ù†Ù‚Ø§Ø· + Ø§Ù„Ù…Ø¤Ù‚Øª -->
<div id="scores" class="glass" style="display:none; padding:14px">
  <div id="team1" class="pill">ÙØ±ÙŠÙ‚ 1<br><span id="score1">0</span></div>
  <div id="team2" class="pill">ÙØ±ÙŠÙ‚ 2<br><span id="score2">0</span></div>
  <div id="player" class="pill">Ù„Ø§Ø¹Ø¨<br><span id="scorePlayer">0</span></div>
  <div id="timerBubble">20</div>
</div>

<!-- Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø±Ù‚Ø§Ù… -->
<div id="board" class="glass"></div>
<button id="endGameBtn" onclick="endGame()" style="display:none">Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>

<!-- ØµÙØ­Ø© Ø§Ù„Ø³Ø¤Ø§Ù„ -->
<div id="questionPage">
  <div id="topBar">
    <div class="turnTag" id="turnInfo" style="visibility:hidden">Ø§Ù„Ø¯ÙˆØ±: â€”</div>
    <div style="flex:1"></div>
    <div class="turnTag">Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: <span id="timerTop">20</span>Ø«</div>
  </div>

  <div id="questionCard" class="glass" style="margin-top:10px">
    <div id="questionText"></div>
    <div id="options"></div>
  </div>
</div>

<div id="flash"></div>

<footer>Ø£-Ø±ÙŠÙ‡Ø§Ù… Ø§Ù„Ø²Ù‡Ø±Ø§Ù†ÙŠ - Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ© Ù©Ù¢</footer>

<script>
/* ================== Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø¹Ø§Ù…Ø© ================== */
let mode="single";         // "single" Ø£Ùˆ "teams"
let currentTeam=1;         // 1 Ø£Ùˆ 2 Ø¹Ù†Ø¯ Ø§Ù„ÙØ±Ù‚
let scores=[0,0];          // [ÙØ±ÙŠÙ‚1/Ù„Ø§Ø¹Ø¨, ÙØ±ÙŠÙ‚2]
let currentQ=null;
let timeLeft=20;
let timerInterval=null;

/* ================== Ø£Ø³Ø¦Ù„Ø© (40) â€” 20 Ù…ØªÙˆØ³Ø· + 20 ØµØ¹Ø¨ ================== */
const questions={
  // (1-20) Ù…ØªÙˆØ³Ø·Ø©
  1:{q:"ÙÙŠ Ø£ÙŠ Ø¹Ø§Ù… ØªÙ… ØªÙˆØ­ÙŠØ¯ Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©ØŸ",a:["1932","1945","1927","1950"],correct:0},
  2:{q:"Ù…Ù† Ù‡Ùˆ Ù…Ø¤Ø³Ø³ Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©ØŸ",a:["Ø§Ù„Ù…Ù„Ùƒ Ø¹Ø¨Ø¯Ø§Ù„Ø¹Ø²ÙŠØ²","Ø§Ù„Ù…Ù„Ùƒ ÙÙŠØµÙ„","Ø§Ù„Ù…Ù„Ùƒ Ø³Ø¹ÙˆØ¯","Ø§Ù„Ù…Ù„Ùƒ ÙÙ‡Ø¯"],correct:0},
  3:{q:"Ù…Ø§ Ø¹Ø§ØµÙ…Ø© Ø§Ù„Ù…Ù…Ù„ÙƒØ©ØŸ",a:["Ø§Ù„Ø±ÙŠØ§Ø¶","Ø¬Ø¯Ø©","Ù…ÙƒØ©","Ø§Ù„Ø¯Ù…Ø§Ù…"],correct:0},
  4:{q:"Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø¹Ù„Ù… Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØŸ",a:["Ø£Ø®Ø¶Ø± ÙˆØ£Ø¨ÙŠØ¶","Ø£Ø­Ù…Ø± ÙˆØ£Ø¨ÙŠØ¶","Ø£Ø²Ø±Ù‚ ÙˆØ£ØµÙØ±","Ø£Ø®Ø¶Ø± ÙˆØ£Ø³ÙˆØ¯"],correct:0},
  5:{q:"Ù…Ø§ Ø§Ù„Ø¹Ø¨Ø§Ø±Ø© Ø§Ù„Ù…ÙƒØªÙˆØ¨Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù„Ù… Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØŸ",a:["Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ Ù…Ø­Ù…Ø¯ Ø±Ø³ÙˆÙ„ Ø§Ù„Ù„Ù‡","Ø§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø±","Ø¨Ø³Ù… Ø§Ù„Ù„Ù‡ Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ø±Ø­ÙŠÙ…","Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡"],correct:0},
  6:{q:"ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ© ÙÙŠ Ø§Ù„Ù…Ù…Ù„ÙƒØ©ØŸ",a:["13","11","12","14"],correct:0},
  7:{q:"Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø±Ø³Ù…ÙŠØŸ",a:["Ø³ÙŠÙØ§Ù† ÙˆÙ†Ø®Ù„Ø©","Ù†Ø®Ù„Ø© ÙÙ‚Ø·","Ø³ÙŠÙ ÙˆØ§Ø­Ø¯","Ø¹Ù„Ù… ÙÙ‚Ø·"],correct:0},
  8:{q:"Ø£ÙŠÙ† ÙŠÙ‚Ø¹ Ø§Ù„Ù…Ø³Ø¬Ø¯ Ø§Ù„Ø­Ø±Ø§Ù…ØŸ",a:["Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø©","Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©","Ø§Ù„Ø±ÙŠØ§Ø¶","Ø¬Ø¯Ø©"],correct:0},
  9:{q:"Ø£ÙŠÙ† ÙŠÙ‚Ø¹ Ø§Ù„Ù…Ø³Ø¬Ø¯ Ø§Ù„Ù†Ø¨ÙˆÙŠØŸ",a:["Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©","Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø©","Ø§Ù„Ø±ÙŠØ§Ø¶","Ø§Ù„Ø·Ø§Ø¦Ù"],correct:0},
 10:{q:"Ù…Ø§ Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ø±Ø³Ù…ÙŠØ© Ù„Ù„Ù…Ù…Ù„ÙƒØ©ØŸ",a:["Ø§Ù„Ø±ÙŠØ§Ù„","Ø§Ù„Ø¯ÙŠÙ†Ø§Ø±","Ø§Ù„Ø¯Ø±Ù‡Ù…","Ø§Ù„Ø¬Ù†ÙŠÙ‡"],correct:0},
 11:{q:"Ù…Ø§ Ø§Ù„Ø¨Ø­Ø± Ø§Ù„Ø°ÙŠ ÙŠØ­Ø¯ Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ù…Ù† Ø§Ù„ØºØ±Ø¨ØŸ",a:["Ø§Ù„Ø¨Ø­Ø± Ø§Ù„Ø£Ø­Ù…Ø±","Ø§Ù„Ø®Ù„ÙŠØ¬ Ø§Ù„Ø¹Ø±Ø¨ÙŠ","Ø¨Ø­Ø± Ø§Ù„Ø¹Ø±Ø¨","Ø§Ù„Ù…Ø­ÙŠØ· Ø§Ù„Ù‡Ù†Ø¯ÙŠ"],correct:0},
 12:{q:"Ù…Ø§ Ø§Ù„Ø®Ù„ÙŠØ¬ Ø§Ù„Ø°ÙŠ ÙŠØ­Ø¯ Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ù…Ù† Ø§Ù„Ø´Ø±Ù‚ØŸ",a:["Ø§Ù„Ø®Ù„ÙŠØ¬ Ø§Ù„Ø¹Ø±Ø¨ÙŠ","Ø®Ù„ÙŠØ¬ Ø¹Ø¯Ù†","Ø®Ù„ÙŠØ¬ Ø¹Ù…Ø§Ù†","Ø®Ù„ÙŠØ¬ Ø§Ù„Ø¨ØµØ±Ø©"],correct:0},
 13:{q:"Ù…ØªÙ‰ Ø£ÙØ³Ø³Øª Ø£Ø±Ø§Ù…ÙƒÙˆ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© (ÙƒØ³Ø§Ø¨ÙƒØŸ Ù„Ø§ØŒ Ø£Ø±Ø§Ù…ÙƒÙˆ)",a:["1933","1945","1950","1965"],correct:0},
 14:{q:"ÙÙŠ Ø£ÙŠ Ù…Ø¯ÙŠÙ†Ø© ÙŠÙ‚Ø¹ Ù‚ØµØ± Ø§Ù„Ù…ØµÙ…ÙƒØŸ",a:["Ø§Ù„Ø±ÙŠØ§Ø¶","Ù…ÙƒØ©","Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©","Ø§Ù„Ø·Ø§Ø¦Ù"],correct:0},
 15:{q:"Ø£ÙŠÙ† ÙŠÙ‚Ø¹ Ù…ÙŠÙ†Ø§Ø¡ Ø§Ù„Ù…Ù„Ùƒ Ø¹Ø¨Ø¯Ø§Ù„Ø¹Ø²ÙŠØ² Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØŸ",a:["Ø§Ù„Ø¯Ù…Ø§Ù…","Ø¬Ø¯Ø©","ÙŠÙ†Ø¨Ø¹","Ø¬Ø§Ø²Ø§Ù†"],correct:0},
 16:{q:"Ø£ÙŠÙ† ÙŠÙ‚Ø¹ Ø¨Ø±Ø¬ Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø´Ù‡ÙŠØ±ØŸ",a:["Ø§Ù„Ø±ÙŠØ§Ø¶","Ø¬Ø¯Ø©","Ø§Ù„Ø¯Ù…Ø§Ù…","Ø§Ù„Ø·Ø§Ø¦Ù"],correct:0},
 17:{q:"Ù…Ø§ Ø§Ù„Ù„Ù‚Ø¨ Ø§Ù„Ø´Ù‡ÙŠØ± Ù„Ù…Ø¯ÙŠÙ†Ø© Ø¬Ø¯Ø©ØŸ",a:["Ø¹Ø±ÙˆØ³ Ø§Ù„Ø¨Ø­Ø± Ø§Ù„Ø£Ø­Ù…Ø±","Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„ÙˆØ±Ø¯","Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ø¬Ø¨Ø§Ù„","Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù†ÙˆØ±"],correct:0},
 18:{q:"Ù…ØªÙ‰ Ø§ÙƒØªÙØ´Ù Ø§Ù„Ù†ÙØ· ÙÙŠ Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ù„Ø£ÙˆÙ„ Ù…Ø±Ø©ØŸ",a:["1938","1945","1927","1950"],correct:0},
 19:{q:"Ù…Ø§ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„ØªÙŠ ØªÙØ¹Ø±Ù Ø¨Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„ÙˆØ±Ø¯ØŸ",a:["Ø§Ù„Ø·Ø§Ø¦Ù","ÙŠÙ†Ø¨Ø¹","Ø§Ù„Ø±ÙŠØ§Ø¶","Ù†Ø¬Ø±Ø§Ù†"],correct:0},
 20:{q:"Ø£ÙŠÙ† ØªÙ‚Ø¹ Ø§Ù„Ø¯Ø±Ø¹ÙŠØ© Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠØ©ØŸ",a:["Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø±ÙŠØ§Ø¶","Ù…Ù†Ø·Ù‚Ø© Ù…ÙƒØ©","Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©","Ù…Ù†Ø·Ù‚Ø© ØªØ¨ÙˆÙƒ"],correct:0},

  // (21-40) ØµØ¹Ø¨Ø©
 21:{q:"Ø£Ø¹Ù„Ù‰ Ø¬Ø¨Ù„ ÙÙŠ Ø§Ù„Ù…Ù…Ù„ÙƒØ©ØŸ",a:["Ø¬Ø¨Ù„ Ø§Ù„Ø³ÙˆØ¯Ø©","Ø¬Ø¨Ù„ Ø§Ù„Ù„ÙˆØ²","Ø¬Ø¨Ù„ Ø£Ø­Ø¯","Ø¬Ø¨Ù„ Ø§Ù„Ù†ÙˆØ±"],correct:0},
 22:{q:"Ø£ÙƒØ¨Ø± ØµØ­Ø±Ø§Ø¡ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ù…Ù„ÙƒØ©ØŸ",a:["Ø§Ù„Ø±Ø¨Ø¹ Ø§Ù„Ø®Ø§Ù„ÙŠ","Ø§Ù„Ù†ÙÙˆØ¯ Ø§Ù„ÙƒØ¨ÙŠØ±","Ø§Ù„Ø¯Ù‡Ù†Ø§Ø¡","Ø­Ø±Ø§Øª Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©"],correct:0},
 23:{q:"Ø£ÙŠÙ† ØªÙ‚Ø¹ Ù…Ø¯Ø§Ø¦Ù† ØµØ§Ù„Ø­ (Ø§Ù„Ø­ÙØ¬Ø±)ØŸ",a:["Ø§Ù„Ø¹Ù„Ø§","Ø¬Ø§Ø²Ø§Ù†","Ø§Ù„Ø±ÙŠØ§Ø¶","Ø§Ù„Ù‚ØµÙŠÙ…"],correct:0},
 24:{q:"Ø£ÙŠÙ† ÙŠÙ‚Ø¹ Ø¬Ø¨Ù„ Ø§Ù„Ù„ÙˆØ²ØŸ",a:["Ù…Ù†Ø·Ù‚Ø© ØªØ¨ÙˆÙƒ","Ù…Ù†Ø·Ù‚Ø© Ø¹Ø³ÙŠØ±","Ù…Ù†Ø·Ù‚Ø© Ù…ÙƒØ©","Ù…Ù†Ø·Ù‚Ø© Ù†Ø¬Ø±Ø§Ù†"],correct:0},
 25:{q:"ÙÙŠ Ø£ÙŠ Ø¹Ø§Ù… Ø§Ù†Ø¶Ù…Øª Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ù„Ù„Ø£Ù…Ù… Ø§Ù„Ù…ØªØ­Ø¯Ø©ØŸ",a:["1945","1950","1960","1975"],correct:0},
 26:{q:"Ø£ÙŠÙ† ÙŠÙ‚Ø¹ ÙˆØ§Ø¯ÙŠ Ø­Ù†ÙŠÙØ©ØŸ",a:["Ø§Ù„Ø±ÙŠØ§Ø¶","Ù…ÙƒØ©","Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©","Ø§Ù„Ø¯Ù…Ø§Ù…"],correct:0},
 27:{q:"Ø£ÙŠÙ† ÙŠÙ‚Ø¹ Ø¬Ø¨Ù„ Ø£ÙØ­Ø¯ØŸ",a:["Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©","Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø©","ØªØ¨ÙˆÙƒ","Ø¹Ø³ÙŠØ±"],correct:0},
 28:{q:"Ù…Ø§ Ø£ÙƒØ¨Ø± ÙˆØ§Ø­Ø© Ù†Ø®ÙŠÙ„ ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù… Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ù…Ù„ÙƒØ©ØŸ",a:["Ø§Ù„Ø£Ø­Ø³Ø§Ø¡","Ø§Ù„Ù‚ØµÙŠÙ…","Ù†Ø¬Ø±Ø§Ù†","Ø§Ù„Ø¨ÙƒÙŠØ±ÙŠØ©"],correct:0},
 29:{q:"Ù…ØªÙ‰ Ø¨Ø¯Ø£ ØªØµØ¯ÙŠØ± Ø§Ù„Ù†ÙØ· Ù…Ù† Ø§Ù„Ù…Ù…Ù„ÙƒØ©ØŸ",a:["1939","1945","1950","1960"],correct:0},
 30:{q:"Ø£ÙŠÙ† ÙŠÙ‚Ø¹ Ø§Ù„Ù…ÙŠÙ†Ø§Ø¡ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø­Ø± Ø§Ù„Ø£Ø­Ù…Ø±ØŸ",a:["Ù…ÙŠÙ†Ø§Ø¡ Ø¬Ø¯Ø© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠ","Ù…ÙŠÙ†Ø§Ø¡ ÙŠÙ†Ø¨Ø¹","Ù…ÙŠÙ†Ø§Ø¡ Ø¶Ø¨Ø§Ø¡","Ù…ÙŠÙ†Ø§Ø¡ Ø¬Ø§Ø²Ø§Ù†"],correct:0},
 31:{q:"Ø£ÙŠÙ† ÙŠÙ‚Ø¹ Ø§Ù„Ù…ÙŠÙ†Ø§Ø¡ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø®Ù„ÙŠØ¬ Ø§Ù„Ø¹Ø±Ø¨ÙŠØŸ",a:["Ù…ÙŠÙ†Ø§Ø¡ Ø§Ù„Ø¯Ù…Ø§Ù…","Ù…ÙŠÙ†Ø§Ø¡ Ø§Ù„Ø¬Ø¨ÙŠÙ„","Ù…ÙŠÙ†Ø§Ø¡ Ø§Ù„Ø®Ø¨Ø±","Ù…ÙŠÙ†Ø§Ø¡ Ø±Ø£Ø³ ØªÙ†ÙˆØ±Ø©"],correct:0},
 32:{q:"ÙƒÙ… Ø¯ÙˆÙ„Ø© ØªØ­Ø¯ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© Ø¨Ø±Ù‹Ø§ØŸ",a:["7","6","8","5"],correct:0}, /* Ø§Ù„Ø£Ø±Ø¯Ù†ØŒ Ø§Ù„Ø¹Ø±Ø§Ù‚ØŒ Ø§Ù„ÙƒÙˆÙŠØªØŒ Ù‚Ø·Ø±ØŒ Ø§Ù„Ø¥Ù…Ø§Ø±Ø§ØªØŒ Ø¹Ù…Ø§Ù†ØŒ Ø§Ù„ÙŠÙ…Ù† */
 33:{q:"ÙÙŠ Ø£ÙŠ Ù…Ù†Ø·Ù‚Ø© ØªÙ‚Ø¹ Ù†ÙŠÙˆÙ…ØŸ",a:["ØªØ¨ÙˆÙƒ","Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©","Ø§Ù„Ø±ÙŠØ§Ø¶","Ø­Ø§Ø¦Ù„"],correct:0},
 34:{q:"Ø£ÙŠÙ† ÙŠÙ‚Ø¹ ÙˆØ§Ø¯ÙŠ Ø§Ù„Ø¯ÙˆØ§Ø³Ø±ØŸ",a:["Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø±ÙŠØ§Ø¶","Ù…Ù†Ø·Ù‚Ø© Ù…ÙƒØ©","Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©","Ø§Ù„Ø´Ø±Ù‚ÙŠØ©"],correct:0},
 35:{q:"Ø£ÙŠÙ† ØªÙ‚Ø¹ Ù…Ø­Ø§ÙØ¸Ø© Ø­Ù‚Ù„ØŸ",a:["ØªØ¨ÙˆÙƒ","Ø¬Ø§Ø²Ø§Ù†","Ø¹Ø³ÙŠØ±","Ø§Ù„Ø¨Ø§Ø­Ø©"],correct:0},
 36:{q:"Ù…ØªÙ‰ ØªØ£Ø³Ø³ Ù…Ø¬Ù„Ø³ Ø§Ù„Ø´ÙˆØ±Ù‰ Ø¨ØµÙŠØºØªÙ‡ Ø§Ù„Ø­Ø¯ÙŠØ«Ø©ØŸ",a:["1992","1985","2000","1975"],correct:0},
 37:{q:"Ù…Ø§ Ø§Ù„Ø³Ù„Ø³Ù„Ø© Ø§Ù„Ø¬Ø¨Ù„ÙŠØ© Ø§Ù„Ù…Ù…ØªØ¯Ø© Ø¹Ù„Ù‰ Ø·ÙˆÙ„ ØºØ±Ø¨ Ø§Ù„Ù…Ù…Ù„ÙƒØ©ØŸ",a:["Ø¬Ø¨Ø§Ù„ Ø§Ù„Ø³Ø±ÙˆØ§Øª","Ø¬Ø¨Ø§Ù„ ØªÙ‡Ø§Ù…Ø©","Ø¬Ø¨Ø§Ù„ Ù†Ø¬Ø¯","Ø¬Ø¨Ø§Ù„ Ø´Ù…Ø±"],correct:0},
 38:{q:"Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ø¹Ù„Ø§ ØªØªØ¨Ø¹ Ø£ÙŠ Ù…Ù†Ø·Ù‚Ø© Ø¥Ø¯Ø§Ø±ÙŠØ©ØŸ",a:["Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©","ØªØ¨ÙˆÙƒ","Ù…ÙƒØ©","Ø§Ù„Ø´Ø±Ù‚ÙŠØ©"],correct:0},
 39:{q:"Ù…Ù† Ø£ÙˆÙ„ Ù…Ù„Ùƒ Ø³Ø¹ÙˆØ¯ÙŠ Ø§ØªØ®Ø° Ù„Ù‚Ø¨ Ø®Ø§Ø¯Ù… Ø§Ù„Ø­Ø±Ù…ÙŠÙ† Ø§Ù„Ø´Ø±ÙŠÙÙŠÙ†ØŸ",a:["Ø§Ù„Ù…Ù„Ùƒ ÙÙ‡Ø¯","Ø§Ù„Ù…Ù„Ùƒ ÙÙŠØµÙ„","Ø§Ù„Ù…Ù„Ùƒ Ø³Ù„Ù…Ø§Ù†","Ø§Ù„Ù…Ù„Ùƒ Ø³Ø¹ÙˆØ¯"],correct:0},
 40:{q:"ÙÙŠ Ø£ÙŠ Ø¹Ø§Ù… Ø£ÙØ¹Ù„Ù† Ø¹Ù† Ø±Ø¤ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© 2030ØŸ",a:["2016","2015","2018","2020"],correct:0},
};

/* ================== ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© ================== */
function showSingleForm(){ document.getElementById("singleForm").style.display="block"; }
function showTeamForm(){ document.getElementById("teamForm").style.display="block"; }

function startPlayer(){
  mode="single";
  const name=(document.getElementById("playerName").value||"Ù„Ø§Ø¹Ø¨").trim();
  document.getElementById("player").style.display="inline-block";
  document.getElementById("player").innerHTML = `${name}<br><span id="scorePlayer">0</span>`;
  scores=[0,0];
  beginGame();
}
function startTeams(){
  mode="teams";
  const n1=(document.getElementById("name1").value||"ÙØ±ÙŠÙ‚ 1").trim();
  const n2=(document.getElementById("name2").value||"ÙØ±ÙŠÙ‚ 2").trim();
  document.getElementById("team1").style.display="inline-block";
  document.getElementById("team2").style.display="inline-block";
  document.getElementById("team1").innerHTML = `${n1}<br><span id="score1">0</span>`;
  document.getElementById("team2").innerHTML = `${n2}<br><span id="score2">0</span>`;
  scores=[0,0]; currentTeam=1;
  beginGame();
}

function beginGame(){
  document.getElementById("startScreen").style.display="none";
  document.getElementById("scores").style.display="flex";
  document.getElementById("endGameBtn").style.display="inline-block";
  buildBoard();
}

/* ================== Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø±Ù‚Ø§Ù… ================== */
function buildBoard(){
  const board=document.getElementById("board");
  board.style.display="grid";
  board.innerHTML="";
  for(let i=1;i<=40;i++){
    const btn=document.createElement("button");
    btn.className="cell";
    btn.textContent=i;
    btn.dataset.num=i;
    btn.onclick=()=>openQuestion(i);
    board.appendChild(btn);
  }
}

/* ================== ÙØªØ­ Ø§Ù„Ø³Ø¤Ø§Ù„ ================== */
function openQuestion(num){
  currentQ=num;
  // Ø­Ø¯Ù‘Ø« Ø´Ø§Ø±Ø© Ø§Ù„Ø¯ÙˆØ±
  const turnInfo=document.getElementById("turnInfo");
  if(mode==="teams"){
    turnInfo.style.visibility="visible";
    const t1=document.getElementById("team1").textContent.split("\n")[0]||"Ø§Ù„ÙØ±ÙŠÙ‚ 1";
    const t2=document.getElementById("team2").textContent.split("\n")[0]||"Ø§Ù„ÙØ±ÙŠÙ‚ 2";
    turnInfo.textContent = `Ø§Ù„Ø¯ÙˆØ±: ${currentTeam===1?t1:t2}`;
  } else {
    turnInfo.style.visibility="hidden";
  }

  document.getElementById("board").style.display="none";
  document.getElementById("questionPage").style.display="block";

  const q=questions[num];
  document.getElementById("questionText").textContent=`Ø³${num}: ${q.q}`;
  const opts=document.getElementById("options"); opts.innerHTML="";
  q.a.forEach((txt,idx)=>{
    const b=document.createElement("button");
    b.className="option";
    b.textContent=txt;
    b.onclick=()=>checkAnswer(idx);
    opts.appendChild(b);
  });

  // Ù…Ø¤Ù‚Øª
  startTimer(20);
}

/* ================== Ø§Ù„Ù…Ø¤Ù‚Øª ================== */
function startTimer(seconds){
  clearInterval(timerInterval);
  timeLeft=seconds;
  updateTimers();
  timerInterval=setInterval(()=>{
    timeLeft--;
    updateTimers();
    if(timeLeft<=0){
      clearInterval(timerInterval);
      flash(false); // Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª = Ø®Ø·Ø£
      // ÙÙŠ Ø§Ù„ÙØ±Ù‚: ÙŠÙ†ØªÙ‚Ù„ Ø§Ù„Ø¯ÙˆØ± Ù„Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø¢Ø®Ø±ØŒ ÙˆØ§Ù„Ø³Ø¤Ø§Ù„ ÙŠØ¨Ù‚Ù‰ Ù…ØªØ§Ø­Ù‹Ø§
      if(mode==="teams"){ currentTeam = (currentTeam===1?2:1); }
      backToBoard(false); // Ù„Ù… ÙŠÙØ­Ù„
    }
  },1000);
}
function updateTimers(){
  document.getElementById("timerBubble").textContent=timeLeft;
  document.getElementById("timerTop").textContent=timeLeft;
}

/* ================== Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© ================== */
function checkAnswer(choice){
  clearInterval(timerInterval);
  const q=questions[currentQ];
  const correct = (choice===q.correct);
  flash(correct);

  if(correct){
    addScore(currentQ);
    backToBoard(true);   // Ø­ÙÙ„Ù‘Øª â†’ Ø£Ø®ÙÙ Ø§Ù„Ø±Ù‚Ù…
  }else{
    // ÙÙŠ Ø§Ù„ÙØ±Ù‚: Ø¨Ø¯Ù‘Ù„ Ø§Ù„Ø¯ÙˆØ±ØŒ ÙˆØ§Ù„Ø³Ø¤Ø§Ù„ ÙŠØ¨Ù‚Ù‰ Ù…ØªØ§Ø­Ù‹Ø§
    if(mode==="teams"){ currentTeam = (currentTeam===1?2:1); }
    backToBoard(false);  // Ù„Ù… ØªÙØ­Ù„ â†’ Ø¥Ø¨Ù‚Ø§Ø¡ Ø§Ù„Ø±Ù‚Ù…
  }
}

/* ================== Ø§Ù„Ù†Ù‚Ø§Ø· ================== */
function addScore(points){
  if(mode==="single"){
    scores[0]+=points;
    const sp=document.getElementById("scorePlayer");
    if(sp) sp.textContent=scores[0];
  }else{
    scores[currentTeam-1]+=points;
    document.getElementById("score1").textContent=scores[0];
    document.getElementById("score2").textContent=scores[1];
    // Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© (ØµÙˆØ§Ø¨ Ø£Ùˆ Ø®Ø·Ø£) ÙŠØªØºÙŠØ± Ø§Ù„Ø¯ÙˆØ± Ø¯Ø§Ø¦Ù…Ø§Ù‹
    currentTeam = (currentTeam===1?2:1);
  }
}

/* ================== Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ÙˆØ­Ø© ================== */
function backToBoard(solved){
  // Ø£Ø®ÙÙ ØµÙØ­Ø© Ø§Ù„Ø³Ø¤Ø§Ù„
  document.getElementById("questionPage").style.display="none";
  // Ø£Ø¸Ù‡Ø± Ø§Ù„Ù„ÙˆØ­Ø©
  const board=document.getElementById("board");
  board.style.display="grid";

  // Ø¹Ø§Ù„Ø¬ Ø±Ù‚Ù… Ø§Ù„Ø³Ø¤Ø§Ù„ Ø­Ø³Ø¨ Ø§Ù„Ù†ØªÙŠØ¬Ø©
  const btn=[...board.querySelectorAll(".cell")].find(b=>+b.dataset.num===currentQ);
  if(btn){
    if(solved){
      btn.classList.add("used");
      btn.disabled=true;
    }else{
      // Ù„Ù… ÙŠÙØ­Ù„: ÙŠØ¨Ù‚Ù‰ Ù…ØªØ§Ø­Ù‹Ø§
      btn.classList.remove("used");
      btn.disabled=false;
    }
  }
}

/* ================== ØªØ£Ø«ÙŠØ± Ø§Ù„ÙˆÙ…ÙŠØ¶ ================== */
function flash(isCorrect){
  const f=document.getElementById("flash");
  f.style.backgroundColor=isCorrect?"rgba(0,200,0,0.45)":"rgba(255,0,0,0.45)";
  f.style.opacity="1";
  setTimeout(()=>{ f.style.opacity="0"; }, 280);
}

/* ================== Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø© ================== */
function endGame(){
  clearInterval(timerInterval);
  // Ø¹Ø·Ù‘Ù„ Ø¨Ù‚ÙŠØ© Ø§Ù„Ø£Ø±Ù‚Ø§Ù…
  document.querySelectorAll("#board .cell").forEach(c=>c.disabled=true);
  // Ø§Ø­Ø°Ù Ù†ØªÙŠØ¬Ø© Ù‚Ø¯ÙŠÙ…Ø©
  const old=document.getElementById("gameResult"); if(old) old.remove();

  let msg="";
  if(mode==="single"){
    msg=`Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø©! Ù…Ø¬Ù…ÙˆØ¹ Ù†Ù‚Ø§Ø·Ùƒ: ${scores[0]}`;
  }else{
    const t1=document.getElementById("team1").textContent.split("\n")[0]||"Ø§Ù„ÙØ±ÙŠÙ‚ 1";
    const t2=document.getElementById("team2").textContent.split("\n")[0]||"Ø§Ù„ÙØ±ÙŠÙ‚ 2";
    if(scores[0]>scores[1]) msg=`Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø©! Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„ÙØ§Ø¦Ø²: ${t1} â€” (${scores[0]} Ù†Ù‚Ø·Ø©)`;
    else if(scores[1]>scores[0]) msg=`Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø©! Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„ÙØ§Ø¦Ø²: ${t2} â€” (${scores[1]} Ù†Ù‚Ø·Ø©)`;
    else msg=`Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø©! Ø§Ù„Ù†ØªÙŠØ¬Ø© Ù…ØªØ¹Ø§Ø¯Ù„Ø©: ${scores[0]} - ${scores[1]}`;
  }

  const card=document.createElement("div");
  card.id="gameResult";
  card.className="glass";
  card.style.marginTop="10px";
  card.style.fontWeight="800";
  card.style.fontSize="22px";
  card.textContent=msg;
  document.body.appendChild(card);
}

/* ================== Ù…Ù„Ø§Ø­Ø¸Ø§Øª:
   Ù„ØªØ¨Ø³ÙŠØ· Ø§Ù„Ù†Ø´Ø± ÙˆØ¹Ø¯Ù… ØªØ¶Ø®ÙŠÙ… Ø§Ù„Ù…Ù„ÙØŒ Ø§Ù„Ø£ØµÙˆØ§Øª Ù„Ù… ØªÙØ¯Ù…Ø¬ Base64.
   Ø¥Ù† Ø±ØºØ¨Øª Ø¨Ø¥Ø¶Ø§ÙØ© Ø£ØµÙˆØ§ØªØŒ ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ¹Ù…Ø§Ù„ WebAudio API Ø£Ùˆ Ø¥Ø¶Ø§ÙØ© data: URLs.
   ================== */
</script>
</body>
</html>

